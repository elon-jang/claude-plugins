---
name: spark-init
description: Initialize a new Sparks knowledge repository
argument-hint: "[directory]"
allowed-tools:
  - AskUserQuestion
  - Bash
  - Write
  - Read
---

# Spark Init - Initialize Knowledge Repository

Initialize a new directory as a Sparks knowledge repository with the recommended structure.

## Arguments

- `[directory]` - Target directory (default: current directory)

## Workflow

### 0. Check Current Directory

```bash
pwd
```

### 1. Confirm Initialization

```json
{
  "questions": [
    {
      "question": "Initialize Sparks knowledge repository in:\n{directory}\n\nThis will create the recommended folder structure.",
      "header": "Confirm",
      "multiSelect": false,
      "options": [
        {"label": "Yes, initialize", "description": "Create Sparks structure"},
        {"label": "Cancel", "description": "Abort initialization"}
      ]
    }
  ]
}
```

### 2. Check if Already Initialized

```bash
ls -la .sparks 2>/dev/null
```

If `.sparks` directory exists:
```
âš ï¸ This directory already has a Sparks configuration.
Do you want to reset it?
```

### 3. Create Directory Structure

```bash
mkdir -p concepts insights skills til .sparks
```

### 4. Create Config File

**Path**: `.sparks/config.json`

```json
{
  "version": "1.0.0",
  "categories": ["concepts", "insights", "skills", "til"],
  "defaultCategory": "insights",
  "leitnerIntervals": [1, 3, 7, 14, 30],
  "socraticLevels": 5,
  "autoConnectThreshold": 0.3
}
```

### 5. Create Progress File

**Path**: `.sparks/progress.json`

```json
{}
```

### 6. Create .gitignore

**Path**: `.gitignore`

```
# Sparks local files
.sparks/progress.json

# OS
.DS_Store
Thumbs.db

# Editor
*.swp
*.swo
*~
.idea/
.vscode/
```

### 7. Create README.md

**Path**: `README.md`

```markdown
# My Sparks

Personal knowledge repository managed with [Sparks](https://github.com/elon-jang/claude-plugins/tree/main/plugins/sparks) plugin.

## Categories

### Concepts

ì´ë¡ , ì›ë¦¬, ê°œë…

<!-- spark-index:concepts -->

### Insights

ê²½í—˜ì—ì„œ ì–»ì€ ê¹¨ë‹¬ìŒ

<!-- spark-index:insights -->

### Skills

ì‹¤ìš© ê¸°ìˆ , How-to

<!-- spark-index:skills -->

### TIL (Today I Learned)

ì¼ì¼ í•™ìŠµ ê¸°ë¡

<!-- spark-index:til -->

## Stats

- Total items: 0
- Last updated: {date}

---

*Generated by [Sparks](https://github.com/elon-jang/claude-plugins/tree/main/plugins/sparks)*
```

### 8. Initialize Git (if not already)

```bash
git rev-parse --show-toplevel 2>/dev/null || git init
```

### 9. Initial Commit

```json
{
  "questions": [
    {
      "question": "Create initial Git commit?",
      "header": "Git Commit",
      "multiSelect": false,
      "options": [
        {"label": "Yes, commit", "description": "git add . && git commit"},
        {"label": "No, skip", "description": "I'll commit manually"}
      ]
    }
  ]
}
```

If yes:
```bash
git add .
git commit -m "Initialize Sparks knowledge repository"
```

### 10. Success Message

```
âœ… Sparks repository initialized!

ğŸ“ Structure created:
{directory}/
â”œâ”€â”€ .sparks/
â”‚   â”œâ”€â”€ config.json
â”‚   â””â”€â”€ progress.json (gitignored)
â”œâ”€â”€ concepts/
â”œâ”€â”€ insights/
â”œâ”€â”€ skills/
â”œâ”€â”€ til/
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md

ğŸš€ Next steps:
1. Add your first knowledge: /spark-add
2. Start learning: /spark-learn
3. Push to GitHub: git remote add origin <url> && git push -u origin main

Happy learning! ğŸ“
```

## Examples

### Initialize Current Directory
```
cd ~/my-knowledge
/spark-init

âœ… Sparks repository initialized!
...
```

### Initialize New Directory
```
/spark-init ~/projects/ai-notes

Creating ~/projects/ai-notes...
âœ… Sparks repository initialized!
...
```

## Error Handling

- **Directory doesn't exist**: Create it with confirmation
- **No write permission**: Show error message
- **Already initialized**: Ask to reset or cancel
- **Git not installed**: Skip Git operations, show warning
